import{d as u,o as d,c as g,b as a,f as m,i as p,t as f,n as h,F as b,h as _,C as r,A as n,q as v,w as l,g as i}from"./index-bbf22c3e.js";import{_ as c}from"./CAlert-481f1c7f.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";const $={},y={class:"navbar navbar-expand-lg navbar-light bg-light"},R={class:"container-fluid"},A=a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1),D=a("div",{class:"collapse navbar-collapse",id:"navbarTogglerDemo02"},[a("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0"})],-1);function L(o,s){const t=u("RouterLink");return d(),g(b,null,[a("nav",y,[a("div",R,[m(t,{class:"navbar-brand",to:"/"},{default:p(()=>[a("h3",null,f(this.$appShortName),1)]),_:1}),A,D])]),h(o.$slots,"default")],64)}const P=w($,[["render",L]]),k={class:"pricing-header p-3 pb-md-4 mx-auto text-start"},C=a("h1",{class:"h3 mb-3 fw-normal"},"Please sign in",-1),T={class:"form-floating mb-3"},U=a("label",{for:"floatingInput"},"Email address",-1),S={class:"form-floating mb-3"},q=a("label",{for:"floatingPassword"},"Password",-1),x={data:function(){return{password:"",email:"",alertmode:"",alertmsg:""}},methods:{performLogin:function(o){o&&o.preventDefault();var s="/";if(this.$route.query&&this.$route.query.nextUrl&&(s=this.$route.query.nextUrl),!this.email||!this.password){r.showAlert(this,"Provide username and password",n.ERROR);return}var t=this;v.tryLogin(this.email,this.password).then(e=>{t.$router.push(s)}).catch(e=>{console.log(e),r.showAlert(t,"Invalid email or password.",n.ERROR)})}},components:{CAlert:c}},V=Object.assign(x,{__name:"Login",setup(o){return(s,t)=>(d(),_(P,null,{default:p(()=>[a("div",k,[a("form",null,[C,m(c,{msg:s.alertmsg,mode:s.alertmode},null,8,["msg","mode"]),a("div",T,[l(a("input",{type:"email",class:"form-control",id:"floatingInput","onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e),placeholder:"name@example.com"},null,512),[[i,s.email]]),U]),a("div",S,[l(a("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),id:"floatingPassword",placeholder:"Password"},null,512),[[i,s.password]]),q]),a("button",{class:"w-100 btn btn-lg btn-primary",type:"submit",onClick:t[2]||(t[2]=(...e)=>s.performLogin&&s.performLogin(...e))},"Sign in")])])]),_:1}))}});export{V as default};
