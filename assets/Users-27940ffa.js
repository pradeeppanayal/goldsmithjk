import{_ as d}from"./DynamicTable-4d8d671c.js";import{_ as p,o,c as n,b as s,n as r,F as h,r as m,t as f,h as b,i as g,A as w,j as v,f as l}from"./index-85703930.js";import{D}from"./DynamicDialog-350f917e.js";import{u as c}from"./dao-bd6f5c58.js";const N={props:["total","perpagerecords","currentpage"],data:function(){return{pageNumbers:[]}},mounted:function(){this.populatePageNumbers()},watch:{total:function(e){this.populatePageNumbers()},perpagerecords:function(e){this.populatePageNumbers()},currentpage:function(e){this.populatePageNumbers()}},methods:{populatePageNumbers:function(){if(this.pageNumbers=[],!(!this.total||!this.perpagerecords))for(var e=0;e<parseInt(this.total)/parseInt(this.perpagerecords);e++)this.pageNumbers.push(e+1)}}},S={"aria-label":"..."},y={class:"pagination justify-content-end"},$=s("span",{class:"page-link"},[s("span",{"aria-hidden":"true"},"«")],-1),U=[$],A={class:"page-link",href:"#"},E=s("a",{class:"page-link",href:"#"},[s("span",{"aria-hidden":"true"},"»")],-1),j=[E];function k(e,t,a,i,V,q){return o(),n("nav",S,[s("ul",y,[s("li",{class:r(["page-item",a.currentpage==1?"disabled":""])},U,2),(o(!0),n(h,null,m(e.pageNumbers,u=>(o(),n("li",{class:r(["page-item",u==a.currentpage?"active":""])},[s("a",A,f(u),1)],2))),256)),s("li",{class:r(["page-item",e.pageNumbers.length==a.currentpage?"disabled":""])},j,2)])])}const I=p(N,[["render",k]]),C={class:"pricing-header p-3 pb-md-4 mx-auto"},M={class:"row"},O=s("div",{class:"col"},[s("div",{class:"mb-3 row text-start"},[s("div",{class:"col-sm-10"},[s("span",{class:"display-6 fw-normal"},"Users")])])],-1),L={class:"col text-end"},P=s("span",{class:"material-icons"},"add",-1),B=s("form",{class:"d-flex d-flex p-3 border-top"},[s("input",{class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),s("button",{class:"btn btn-outline-success",type:"submit"},"Search")],-1),T={data:function(){return{showDialog:!1,selectedObject:null,dialogTitle:"User info",items:[],columns:[{name:"Name",show:!0,type:"string"},{name:"Email",show:!0,type:"string"},{name:"Contact",show:!0,type:"number"},{name:"Status",show:!0,type:"string"}],inputfields:[{name:"Name",show:!0,type:"string",required:!0},{name:"Email",show:!0,type:"string"},{name:"Contact",show:!0,type:"number",required:!0}],allowRowAction:!0,actionMapper:{}}},mounted:function(){this.loadUsers()},methods:{getActionsItems:function(e){var t=[{identifier:"editClick",materialicon:"edit",title:"Edit"}];return e.Status==this.$statusLabelMapper.enabled&&t.push({identifier:"disableItem",materialicon:"visibility_off",title:"Disable"}),e.Status==this.$statusLabelMapper.disabled&&t.push({identifier:"enableItem",materialicon:"visibility",title:"Enable"}),t},disableUser:function(e){this.setStatus(e,this.$statusLabelMapper.disabled)},enableUser:function(e){this.setStatus(e,this.$statusLabelMapper.enabled)},setStatus:function(e,t){c.setStatus(e,t),this.loadUsers()},showEditUserDialog:function(e){this.selectedObject=e,this.showDialog=!0},loadUsers:function(){this.items=[];var e=c.list(),t=this,a={};_.each(e,function(i){a[i.Name]=t.getActionsItems(i)}),this.actionMapper=a,this.items=e},fillActions:function(e){},showAddDialog:function(e){e&&e.preventDefault(),this.selectedObject=null,this.showDialog=!0},performSave:function(e){e.Status=e.Status??this.$statusLabelMapper.enabled,c.addOrUpdate(e),this.loadUsers(),this.showDialog=!1},editEntry:function(e){this.selectedObject=e,this.showDialog=!0}}},H=Object.assign(T,{__name:"Users",setup(e){return(t,a)=>(o(),b(w,null,{default:g(()=>[s("div",C,[s("div",M,[O,s("div",L,[s("button",{class:"btn btn-outline-success",onClick:a[0]||(a[0]=(...i)=>t.showAddDialog&&t.showAddDialog(...i))},[v(" Add"),P])])]),B,l(d,{allowaction:t.allowRowAction,items:t.items,columns:t.columns,actionmapper:t.actionMapper,actionmapperidentifier:"Name",onEditClick:t.showEditUserDialog,onDisableItem:t.disableUser,onEnableItem:t.enableUser},null,8,["allowaction","items","columns","actionmapper","onEditClick","onDisableItem","onEnableItem"])]),l(I,{currentpage:"3",perpagerecords:"10",total:"34"}),l(D,{show:t.showDialog,fields:t.inputfields,title:t.dialogTitle,actualobj:t.selectedObject,onSave:t.performSave,onCancel:a[1]||(a[1]=i=>t.showDialog=!1)},null,8,["show","fields","title","actualobj","onSave"])]),_:1}))}});export{H as default};
